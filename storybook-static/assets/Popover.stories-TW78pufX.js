import{j as o}from"./jsx-runtime-CDt2p4po.js";import{r as p}from"./index-GiUgBvb1.js";import{c as m}from"./index-DW48STyt.js";import{u as w,c as V}from"./index-BKGh1TIg.js";import{c as q}from"./index-BYJyBkN8.js";import{D as K}from"./index-B6QRVOxm.js";import{h as U,R as W,u as Z,F as J}from"./index-B0CFzKuE.js";import{u as Q}from"./index-BUwKKioT.js";import{c as b,R as X,A as N,C as Y,a as ee}from"./index-CwUGZxI6.js";import{P as oe}from"./index-CG0zDWNo.js";import{P as y}from"./index-UKEpXjWn.js";import{P as F}from"./index-BnncbVHi.js";import{u as te}from"./index-DEN0ugiW.js";import{c as re}from"./utils-CytzSlOG.js";import{B as ne}from"./button-DMXYZjU8.js";import"./index-Dl0iWJCF.js";import"./index-WUhAcQt0.js";import"./index-CROobee-.js";import"./index-Bav0yaTQ.js";import"./index-BwobEAja.js";var C="Popover",[S,$e]=q(C,[b]),P=b(),[ae,u]=S(C),I=e=>{const{__scopePopover:a,children:t,open:s,defaultOpen:r,onOpenChange:n,modal:c=!1}=e,i=P(a),d=p.useRef(null),[l,g]=p.useState(!1),[h,f]=te({prop:s,defaultProp:r??!1,onChange:n,caller:C});return o.jsx(X,{...i,children:o.jsx(ae,{scope:a,contentId:Q(),triggerRef:d,open:h,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(R=>!R),[f]),hasCustomAnchor:l,onCustomAnchorAdd:p.useCallback(()=>g(!0),[]),onCustomAnchorRemove:p.useCallback(()=>g(!1),[]),modal:c,children:t})})};I.displayName=C;var T="PopoverAnchor",se=p.forwardRef((e,a)=>{const{__scopePopover:t,...s}=e,r=u(T,t),n=P(t),{onCustomAnchorAdd:c,onCustomAnchorRemove:i}=r;return p.useEffect(()=>(c(),()=>i()),[c,i]),o.jsx(N,{...n,...s,ref:a})});se.displayName=T;var D="PopoverTrigger",M=p.forwardRef((e,a)=>{const{__scopePopover:t,...s}=e,r=u(D,t),n=P(t),c=w(a,r.triggerRef),i=o.jsx(F.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":z(r.open),...s,ref:c,onClick:m(e.onClick,r.onOpenToggle)});return r.hasCustomAnchor?i:o.jsx(N,{asChild:!0,...n,children:i})});M.displayName=D;var _="PopoverPortal",[ce,ie]=S(_,{forceMount:void 0}),k=e=>{const{__scopePopover:a,forceMount:t,children:s,container:r}=e,n=u(_,a);return o.jsx(ce,{scope:a,forceMount:t,children:o.jsx(y,{present:t||n.open,children:o.jsx(oe,{asChild:!0,container:r,children:s})})})};k.displayName=_;var v="PopoverContent",B=p.forwardRef((e,a)=>{const t=ie(v,e.__scopePopover),{forceMount:s=t.forceMount,...r}=e,n=u(v,e.__scopePopover);return o.jsx(y,{present:s||n.open,children:n.modal?o.jsx(de,{...r,ref:a}):o.jsx(le,{...r,ref:a})})});B.displayName=v;var pe=V("PopoverContent.RemoveScroll"),de=p.forwardRef((e,a)=>{const t=u(v,e.__scopePopover),s=p.useRef(null),r=w(a,s),n=p.useRef(!1);return p.useEffect(()=>{const c=s.current;if(c)return U(c)},[]),o.jsx(W,{as:pe,allowPinchZoom:!0,children:o.jsx($,{...e,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:m(e.onCloseAutoFocus,c=>{var i;c.preventDefault(),n.current||(i=t.triggerRef.current)==null||i.focus()}),onPointerDownOutside:m(e.onPointerDownOutside,c=>{const i=c.detail.originalEvent,d=i.button===0&&i.ctrlKey===!0,l=i.button===2||d;n.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:m(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),le=p.forwardRef((e,a)=>{const t=u(v,e.__scopePopover),s=p.useRef(!1),r=p.useRef(!1);return o.jsx($,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{var c,i;(c=e.onCloseAutoFocus)==null||c.call(e,n),n.defaultPrevented||(s.current||(i=t.triggerRef.current)==null||i.focus(),n.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:n=>{var d,l;(d=e.onInteractOutside)==null||d.call(e,n),n.defaultPrevented||(s.current=!0,n.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const c=n.target;((l=t.triggerRef.current)==null?void 0:l.contains(c))&&n.preventDefault(),n.detail.originalEvent.type==="focusin"&&r.current&&n.preventDefault()}})}),$=p.forwardRef((e,a)=>{const{__scopePopover:t,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:n,disableOutsidePointerEvents:c,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:l,onInteractOutside:g,...h}=e,f=u(v,t),R=P(t);return Z(),o.jsx(J,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:n,children:o.jsx(K,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:g,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:l,onDismiss:()=>f.onOpenChange(!1),children:o.jsx(Y,{"data-state":z(f.open),role:"dialog",id:f.contentId,...R,...h,ref:a,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),L="PopoverClose",ue=p.forwardRef((e,a)=>{const{__scopePopover:t,...s}=e,r=u(L,t);return o.jsx(F.button,{type:"button",...s,ref:a,onClick:m(e.onClick,()=>r.onOpenChange(!1))})});ue.displayName=L;var fe="PopoverArrow",ve=p.forwardRef((e,a)=>{const{__scopePopover:t,...s}=e,r=P(t);return o.jsx(ee,{...r,...s,ref:a})});ve.displayName=fe;function z(e){return e?"open":"closed"}var me=I,Pe=M,ge=k,he=B;function O({...e}){return o.jsx(me,{"data-slot":"popover",...e})}function G({...e}){return o.jsx(Pe,{"data-slot":"popover-trigger",...e})}function H({className:e,align:a="center",sideOffset:t=4,...s}){return o.jsx(ge,{children:o.jsx(he,{"data-slot":"popover-content",align:a,sideOffset:t,className:re("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...s})})}O.__docgenInfo={description:"",methods:[],displayName:"Popover"};G.__docgenInfo={description:"",methods:[],displayName:"PopoverTrigger"};H.__docgenInfo={description:"",methods:[],displayName:"PopoverContent",props:{align:{defaultValue:{value:'"center"',computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};const Le={title:"UI/Popover",component:O},x={render:()=>o.jsxs(O,{children:[o.jsx(G,{asChild:!0,children:o.jsx(ne,{children:"Open"})}),o.jsx(H,{children:o.jsx("div",{children:"Popover content"})})]})};var A,j,E;x.parameters={...x.parameters,docs:{...(A=x.parameters)==null?void 0:A.docs,source:{originalSource:`{
  render: () => <Popover>
      <PopoverTrigger asChild>
        <Button>Open</Button>
      </PopoverTrigger>
      <PopoverContent>
        <div>Popover content</div>
      </PopoverContent>
    </Popover>
}`,...(E=(j=x.parameters)==null?void 0:j.docs)==null?void 0:E.source}}};const ze=["Basic"];export{x as Basic,ze as __namedExportsOrder,Le as default};
