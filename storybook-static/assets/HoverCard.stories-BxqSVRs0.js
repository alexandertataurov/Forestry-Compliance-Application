import{j as t}from"./jsx-runtime-CDt2p4po.js";import{r as a}from"./index-GiUgBvb1.js";import{c as l}from"./index-DW48STyt.js";import{c as W}from"./index-BYJyBkN8.js";import{u as z}from"./index-DEN0ugiW.js";import{u as V}from"./index-BKGh1TIg.js";import{c as j,R as q,A as G,C as K,a as J}from"./index-CwUGZxI6.js";import{P as Q}from"./index-CG0zDWNo.js";import{P as D}from"./index-UKEpXjWn.js";import{P as X}from"./index-BnncbVHi.js";import{D as Y}from"./index-B6QRVOxm.js";import{c as Z}from"./utils-CytzSlOG.js";import{B as ee}from"./button-DMXYZjU8.js";import"./index-WUhAcQt0.js";import"./index-CROobee-.js";import"./index-Dl0iWJCF.js";import"./index-Bav0yaTQ.js";import"./index-BwobEAja.js";var E,S="HoverCard",[A,ye]=W(S,[j]),b=j(),[re,w]=A(S),I=e=>{const{__scopeHoverCard:o,children:n,open:s,defaultOpen:i,onOpenChange:c,openDelay:f=700,closeDelay:v=300}=e,d=b(o),m=a.useRef(0),u=a.useRef(0),C=a.useRef(!1),p=a.useRef(!1),[h,r]=z({prop:s,defaultProp:i??!1,onChange:c,caller:S}),x=a.useCallback(()=>{clearTimeout(u.current),m.current=window.setTimeout(()=>r(!0),f)},[f,r]),g=a.useCallback(()=>{clearTimeout(m.current),!C.current&&!p.current&&(u.current=window.setTimeout(()=>r(!1),v))},[v,r]),$=a.useCallback(()=>r(!1),[r]);return a.useEffect(()=>()=>{clearTimeout(m.current),clearTimeout(u.current)},[]),t.jsx(re,{scope:o,open:h,onOpenChange:r,onOpen:x,onClose:g,onDismiss:$,hasSelectionRef:C,isPointerDownOnContentRef:p,children:t.jsx(q,{...d,children:n})})};I.displayName=S;var L="HoverCardTrigger",M=a.forwardRef((e,o)=>{const{__scopeHoverCard:n,...s}=e,i=w(L,n),c=b(n);return t.jsx(G,{asChild:!0,...c,children:t.jsx(X.a,{"data-state":i.open?"open":"closed",...s,ref:o,onPointerEnter:l(e.onPointerEnter,R(i.onOpen)),onPointerLeave:l(e.onPointerLeave,R(i.onClose)),onFocus:l(e.onFocus,i.onOpen),onBlur:l(e.onBlur,i.onClose),onTouchStart:l(e.onTouchStart,f=>f.preventDefault())})})});M.displayName=L;var T="HoverCardPortal",[oe,te]=A(T,{forceMount:void 0}),k=e=>{const{__scopeHoverCard:o,forceMount:n,children:s,container:i}=e,c=w(T,o);return t.jsx(oe,{scope:o,forceMount:n,children:t.jsx(D,{present:n||c.open,children:t.jsx(Q,{asChild:!0,container:i,children:s})})})};k.displayName=T;var H="HoverCardContent",B=a.forwardRef((e,o)=>{const n=te(H,e.__scopeHoverCard),{forceMount:s=n.forceMount,...i}=e,c=w(H,e.__scopeHoverCard);return t.jsx(D,{present:s||c.open,children:t.jsx(ne,{"data-state":c.open?"open":"closed",...i,onPointerEnter:l(e.onPointerEnter,R(c.onOpen)),onPointerLeave:l(e.onPointerLeave,R(c.onClose)),ref:o})})});B.displayName=H;var ne=a.forwardRef((e,o)=>{const{__scopeHoverCard:n,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:c,onInteractOutside:f,...v}=e,d=w(H,n),m=b(n),u=a.useRef(null),C=V(o,u),[p,h]=a.useState(!1);return a.useEffect(()=>{if(p){const r=document.body;return E=r.style.userSelect||r.style.webkitUserSelect,r.style.userSelect="none",r.style.webkitUserSelect="none",()=>{r.style.userSelect=E,r.style.webkitUserSelect=E}}},[p]),a.useEffect(()=>{if(u.current){const r=()=>{h(!1),d.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var g;((g=document.getSelection())==null?void 0:g.toString())!==""&&(d.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",r),()=>{document.removeEventListener("pointerup",r),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!1}}},[d.isPointerDownOnContentRef,d.hasSelectionRef]),a.useEffect(()=>{u.current&&ie(u.current).forEach(x=>x.setAttribute("tabindex","-1"))}),t.jsx(Y,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:f,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:l(c,r=>{r.preventDefault()}),onDismiss:d.onDismiss,children:t.jsx(K,{...m,...v,onPointerDown:l(v.onPointerDown,r=>{r.currentTarget.contains(r.target)&&h(!0),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!0}),ref:C,style:{...v.style,userSelect:p?"text":void 0,WebkitUserSelect:p?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),ae="HoverCardArrow",se=a.forwardRef((e,o)=>{const{__scopeHoverCard:n,...s}=e,i=b(n);return t.jsx(J,{...i,...s,ref:o})});se.displayName=ae;function R(e){return o=>o.pointerType==="touch"?void 0:e()}function ie(e){const o=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)o.push(n.currentNode);return o}var ce=I,de=M,le=k,ue=B;function _({...e}){return t.jsx(ce,{"data-slot":"hover-card",...e})}function F({...e}){return t.jsx(de,{"data-slot":"hover-card-trigger",...e})}function U({className:e,align:o="center",sideOffset:n=4,...s}){return t.jsx(le,{"data-slot":"hover-card-portal",children:t.jsx(ue,{"data-slot":"hover-card-content",align:o,sideOffset:n,className:Z("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...s})})}_.__docgenInfo={description:"",methods:[],displayName:"HoverCard"};F.__docgenInfo={description:"",methods:[],displayName:"HoverCardTrigger"};U.__docgenInfo={description:"",methods:[],displayName:"HoverCardContent",props:{align:{defaultValue:{value:'"center"',computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};const Ne={title:"UI/HoverCard",component:_},P={render:()=>t.jsxs(_,{children:[t.jsx(F,{asChild:!0,children:t.jsx(ee,{children:"Hover me"})}),t.jsx(U,{children:"Details on hover"})]})};var O,y,N;P.parameters={...P.parameters,docs:{...(O=P.parameters)==null?void 0:O.docs,source:{originalSource:`{
  render: () => <HoverCard>
      <HoverCardTrigger asChild>
        <Button>Hover me</Button>
      </HoverCardTrigger>
      <HoverCardContent>Details on hover</HoverCardContent>
    </HoverCard>
}`,...(N=(y=P.parameters)==null?void 0:y.docs)==null?void 0:N.source}}};const je=["Basic"];export{P as Basic,je as __namedExportsOrder,Ne as default};
