import{j as n}from"./jsx-runtime-CDt2p4po.js";import{r as c}from"./index-GiUgBvb1.js";import{c as C}from"./index-BYJyBkN8.js";import{u as F}from"./index-Dl0iWJCF.js";import{u as f}from"./index-WUhAcQt0.js";import{P as v}from"./index-BnncbVHi.js";import{s as M}from"./index-B10begHO.js";import{c as p}from"./utils-CytzSlOG.js";import"./index-CROobee-.js";import"./index-BKGh1TIg.js";function P(){return M.useSyncExternalStore(z,()=>!0,()=>!1)}function z(){return()=>{}}var g="Avatar",[B,Z]=C(g),[T,_]=B(g),E=c.forwardRef((a,t)=>{const{__scopeAvatar:o,...r}=a,[s,e]=c.useState("idle");return n.jsx(T,{scope:o,imageLoadingStatus:s,onImageLoadingStatusChange:e,children:n.jsx(v.span,{...r,ref:t})})});E.displayName=g;var b="AvatarImage",j=c.forwardRef((a,t)=>{const{__scopeAvatar:o,src:r,onLoadingStatusChange:s=()=>{},...e}=a,l=_(b,o),i=U(r,e),d=F(u=>{s(u),l.onImageLoadingStatusChange(u)});return f(()=>{i!=="idle"&&d(i)},[i,d]),i==="loaded"?n.jsx(v.img,{...e,ref:t,src:r}):null});j.displayName=b;var y="AvatarFallback",N=c.forwardRef((a,t)=>{const{__scopeAvatar:o,delayMs:r,...s}=a,e=_(y,o),[l,i]=c.useState(r===void 0);return c.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>i(!0),r);return()=>window.clearTimeout(d)}},[r]),l&&e.imageLoadingStatus!=="loaded"?n.jsx(v.span,{...s,ref:t}):null});N.displayName=y;function S(a,t){return a?t?(a.src!==t&&(a.src=t),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function U(a,{referrerPolicy:t,crossOrigin:o}){const r=P(),s=c.useRef(null),e=r?(s.current||(s.current=new window.Image),s.current):null,[l,i]=c.useState(()=>S(e,a));return f(()=>{i(S(e,a))},[e,a]),f(()=>{const d=R=>()=>{i(R)};if(!e)return;const u=d("loaded"),x=d("error");return e.addEventListener("load",u),e.addEventListener("error",x),t&&(e.referrerPolicy=t),typeof o=="string"&&(e.crossOrigin=o),()=>{e.removeEventListener("load",u),e.removeEventListener("error",x)}},[e,o,t]),l}var $=E,D=j,H=N;function A({className:a,...t}){return n.jsx($,{"data-slot":"avatar",className:p("relative flex size-10 shrink-0 overflow-hidden rounded-full",a),...t})}function k({className:a,...t}){return n.jsx(D,{"data-slot":"avatar-image",className:p("aspect-square size-full",a),...t})}function w({className:a,...t}){return n.jsx(H,{"data-slot":"avatar-fallback",className:p("bg-muted flex size-full items-center justify-center rounded-full",a),...t})}A.__docgenInfo={description:"",methods:[],displayName:"Avatar"};k.__docgenInfo={description:"",methods:[],displayName:"AvatarImage"};w.__docgenInfo={description:"",methods:[],displayName:"AvatarFallback"};const aa={title:"UI/Avatar",component:A},m={render:()=>n.jsxs(A,{children:[n.jsx(k,{src:"https://i.pravatar.cc/100?img=3",alt:"User"}),n.jsx(w,{children:"JD"})]})};var h,L,I;m.parameters={...m.parameters,docs:{...(h=m.parameters)==null?void 0:h.docs,source:{originalSource:`{
  render: () => <Avatar>
      <AvatarImage src="https://i.pravatar.cc/100?img=3" alt="User" />
      <AvatarFallback>JD</AvatarFallback>
    </Avatar>
}`,...(I=(L=m.parameters)==null?void 0:L.docs)==null?void 0:I.source}}};const ta=["Basic"];export{m as Basic,ta as __namedExportsOrder,aa as default};
