import{j as p}from"./jsx-runtime-CDt2p4po.js";import{r as t}from"./index-GiUgBvb1.js";import{c as Q}from"./utils-CytzSlOG.js";import{c as We}from"./createLucideIcon-xIukErcz.js";/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=We("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var Fe=Object.defineProperty,Ge=Object.defineProperties,Le=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable,be=(n,a,o)=>a in n?Fe(n,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[a]=o,He=(n,a)=>{for(var o in a||(a={}))we.call(a,o)&&be(n,o,a[o]);if(X)for(var o of X(a))ye.call(a,o)&&be(n,o,a[o]);return n},$e=(n,a)=>Ge(n,Le(a)),ze=(n,a)=>{var o={};for(var i in n)we.call(n,i)&&a.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&X)for(var i of X(n))a.indexOf(i)<0&&ye.call(n,i)&&(o[i]=n[i]);return o};function qe(n){let a=setTimeout(n,0),o=setTimeout(n,10),i=setTimeout(n,50);return[a,o,i]}function Ve(n){let a=t.useRef();return t.useEffect(()=>{a.current=n}),a.current}var Ue=18,Ee=40,Ze=`${Ee}px`,Je=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Ke({containerRef:n,inputRef:a,pushPasswordManagerStrategy:o,isFocused:i}){let[S,d]=t.useState(!1),[O,j]=t.useState(!1),[B,G]=t.useState(!1),L=t.useMemo(()=>o==="none"?!1:(o==="increase-width"||o==="experimental-no-flickering")&&S&&O,[S,O,o]),A=t.useCallback(()=>{let v=n.current,E=a.current;if(!v||!E||B||o==="none")return;let b=v,w=b.getBoundingClientRect().left+b.offsetWidth,W=b.getBoundingClientRect().top+b.offsetHeight/2,u=w-Ue,H=W;document.querySelectorAll(Je).length===0&&document.elementFromPoint(u,H)===v||(d(!0),G(!0))},[n,a,B,o]);return t.useEffect(()=>{let v=n.current;if(!v||o==="none")return;function E(){let w=window.innerWidth-v.getBoundingClientRect().right;j(w>=Ee)}E();let b=setInterval(E,1e3);return()=>{clearInterval(b)}},[n,o]),t.useEffect(()=>{let v=i||document.activeElement===a.current;if(o==="none"||!v)return;let E=setTimeout(A,0),b=setTimeout(A,2e3),w=setTimeout(A,5e3),W=setTimeout(()=>{G(!0)},6e3);return()=>{clearTimeout(E),clearTimeout(b),clearTimeout(w),clearTimeout(W)}},[a,i,o,A]),{hasPWMBadge:S,willPushPWMBadge:L,PWM_BADGE_SPACE_WIDTH:Ze}}var Te=t.createContext({}),Ie=t.forwardRef((n,a)=>{var o=n,{value:i,onChange:S,maxLength:d,textAlign:O="left",pattern:j,placeholder:B,inputMode:G="numeric",onComplete:L,pushPasswordManagerStrategy:A="increase-width",pasteTransformer:v,containerClassName:E,noScriptCSSFallback:b=Qe,render:w,children:W}=o,u=ze(o,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),H,le,ie,ue,se;let[je,Ce]=t.useState(typeof u.defaultValue=="string"?u.defaultValue:""),s=i??je,C=Ve(s),$=t.useCallback(e=>{S==null||S(e),Ce(e)},[S]),P=t.useMemo(()=>j?typeof j=="string"?new RegExp(j):j:null,[j]),c=t.useRef(null),Y=t.useRef(null),ee=t.useRef({value:s,onChange:$,isIOS:typeof window<"u"&&((le=(H=window==null?void 0:window.CSS)==null?void 0:H.supports)==null?void 0:le.call(H,"-webkit-touch-callout","none"))}),Z=t.useRef({prev:[(ie=c.current)==null?void 0:ie.selectionStart,(ue=c.current)==null?void 0:ue.selectionEnd,(se=c.current)==null?void 0:se.selectionDirection]});t.useImperativeHandle(a,()=>c.current,[]),t.useEffect(()=>{let e=c.current,r=Y.current;if(!e||!r)return;ee.current.value!==e.value&&ee.current.onChange(e.value),Z.current.prev=[e.selectionStart,e.selectionEnd,e.selectionDirection];function m(){if(document.activeElement!==e){q(null),V(null);return}let l=e.selectionStart,f=e.selectionEnd,J=e.selectionDirection,x=e.maxLength,k=e.value,y=Z.current.prev,T=-1,I=-1,R;if(k.length!==0&&l!==null&&f!==null){let De=l===f,Be=l===k.length&&k.length<x;if(De&&!Be){let _=l;if(_===0)T=0,I=1,R="forward";else if(_===x)T=_-1,I=_,R="backward";else if(x>1&&k.length>1){let re=0;if(y[0]!==null&&y[1]!==null){R=_<y[1]?"backward":"forward";let Ae=y[0]===y[1]&&y[0]<x;R==="backward"&&!Ae&&(re=-1)}T=re+_,I=re+_+1}}T!==-1&&I!==-1&&T!==I&&c.current.setSelectionRange(T,I,R)}let ge=T!==-1?T:l,he=I!==-1?I:f,_e=R??J;q(ge),V(he),Z.current.prev=[ge,he,_e]}if(document.addEventListener("selectionchange",m,{capture:!0}),m(),document.activeElement===e&&te(!0),!document.getElementById("input-otp-style")){let l=document.createElement("style");if(l.id="input-otp-style",document.head.appendChild(l),l.sheet){let f="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";U(l.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),U(l.sheet,`[data-input-otp]:autofill { ${f} }`),U(l.sheet,`[data-input-otp]:-webkit-autofill { ${f} }`),U(l.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),U(l.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let g=()=>{r&&r.style.setProperty("--root-height",`${e.clientHeight}px`)};g();let h=new ResizeObserver(g);return h.observe(e),()=>{document.removeEventListener("selectionchange",m,{capture:!0}),h.disconnect()}},[]);let[ce,de]=t.useState(!1),[z,te]=t.useState(!1),[M,q]=t.useState(null),[N,V]=t.useState(null);t.useEffect(()=>{qe(()=>{var e,r,m,g;(e=c.current)==null||e.dispatchEvent(new Event("input"));let h=(r=c.current)==null?void 0:r.selectionStart,l=(m=c.current)==null?void 0:m.selectionEnd,f=(g=c.current)==null?void 0:g.selectionDirection;h!==null&&l!==null&&(q(h),V(l),Z.current.prev=[h,l,f])})},[s,z]),t.useEffect(()=>{C!==void 0&&s!==C&&C.length<d&&s.length===d&&(L==null||L(s))},[d,L,C,s]);let F=Ke({containerRef:Y,inputRef:c,pushPasswordManagerStrategy:A,isFocused:z}),pe=t.useCallback(e=>{let r=e.currentTarget.value.slice(0,d);if(r.length>0&&P&&!P.test(r)){e.preventDefault();return}typeof C=="string"&&r.length<C.length&&document.dispatchEvent(new Event("selectionchange")),$(r)},[d,$,C,P]),me=t.useCallback(()=>{var e;if(c.current){let r=Math.min(c.current.value.length,d-1),m=c.current.value.length;(e=c.current)==null||e.setSelectionRange(r,m),q(r),V(m)}te(!0)},[d]),fe=t.useCallback(e=>{var r,m;let g=c.current;if(!v&&(!ee.current.isIOS||!e.clipboardData||!g))return;let h=e.clipboardData.getData("text/plain"),l=v?v(h):h;e.preventDefault();let f=(r=c.current)==null?void 0:r.selectionStart,J=(m=c.current)==null?void 0:m.selectionEnd,x=(f!==J?s.slice(0,f)+l+s.slice(J):s.slice(0,f)+l+s.slice(f)).slice(0,d);if(x.length>0&&P&&!P.test(x))return;g.value=x,$(x);let k=Math.min(x.length,d-1),y=x.length;g.setSelectionRange(k,y),q(k),V(y)},[d,$,P,s]),Me=t.useMemo(()=>({position:"relative",cursor:u.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[u.disabled]),ve=t.useMemo(()=>({position:"absolute",inset:0,width:F.willPushPWMBadge?`calc(100% + ${F.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:F.willPushPWMBadge?`inset(0 ${F.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:O,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[F.PWM_BADGE_SPACE_WIDTH,F.willPushPWMBadge,O]),ke=t.useMemo(()=>t.createElement("input",$e(He({autoComplete:u.autoComplete||"one-time-code"},u),{"data-input-otp":!0,"data-input-otp-placeholder-shown":s.length===0||void 0,"data-input-otp-mss":M,"data-input-otp-mse":N,inputMode:G,pattern:P==null?void 0:P.source,"aria-placeholder":B,style:ve,maxLength:d,value:s,ref:c,onPaste:e=>{var r;fe(e),(r=u.onPaste)==null||r.call(u,e)},onChange:pe,onMouseOver:e=>{var r;de(!0),(r=u.onMouseOver)==null||r.call(u,e)},onMouseLeave:e=>{var r;de(!1),(r=u.onMouseLeave)==null||r.call(u,e)},onFocus:e=>{var r;me(),(r=u.onFocus)==null||r.call(u,e)},onBlur:e=>{var r;te(!1),(r=u.onBlur)==null||r.call(u,e)}})),[pe,me,fe,G,ve,d,N,M,u,P==null?void 0:P.source,s]),ne=t.useMemo(()=>({slots:Array.from({length:d}).map((e,r)=>{var m;let g=z&&M!==null&&N!==null&&(M===N&&r===M||r>=M&&r<N),h=s[r]!==void 0?s[r]:null,l=s[0]!==void 0?null:(m=B==null?void 0:B[r])!=null?m:null;return{char:h,placeholderChar:l,isActive:g,hasFakeCaret:g&&h===null}}),isFocused:z,isHovering:!u.disabled&&ce}),[z,ce,d,N,M,u.disabled,s]),Re=t.useMemo(()=>w?w(ne):t.createElement(Te.Provider,{value:ne},W),[W,ne,w]);return t.createElement(t.Fragment,null,b!==null&&t.createElement("noscript",null,t.createElement("style",null,b)),t.createElement("div",{ref:Y,"data-input-otp-container":!0,style:Me,className:E},Re,t.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},ke)))});Ie.displayName="Input";function U(n,a){try{n.insertRule(a)}catch{console.error("input-otp could not insert CSS rule:",a)}}var Qe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;function oe({className:n,containerClassName:a,...o}){return p.jsx(Ie,{"data-slot":"input-otp",containerClassName:Q("flex items-center gap-2 has-disabled:opacity-50",a),className:Q("disabled:cursor-not-allowed",n),...o})}function ae({className:n,...a}){return p.jsx("div",{"data-slot":"input-otp-group",className:Q("flex items-center gap-1",n),...a})}function D({index:n,className:a,...o}){const i=t.useContext(Te),{char:S,hasFakeCaret:d,isActive:O}=(i==null?void 0:i.slots[n])??{};return p.jsxs("div",{"data-slot":"input-otp-slot","data-active":O,className:Q("data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm bg-input-background transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",a),...o,children:[S,d&&p.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:p.jsx("div",{className:"animate-caret-blink bg-foreground h-4 w-px duration-1000"})})]})}function Oe({...n}){return p.jsx("div",{"data-slot":"input-otp-separator",role:"separator",...n,children:p.jsx(Ne,{})})}oe.__docgenInfo={description:"",methods:[],displayName:"InputOTP",props:{containerClassName:{required:!1,tsType:{name:"string"},description:""}}};ae.__docgenInfo={description:"",methods:[],displayName:"InputOTPGroup"};D.__docgenInfo={description:"",methods:[],displayName:"InputOTPSlot",props:{index:{required:!0,tsType:{name:"number"},description:""}}};Oe.__docgenInfo={description:"",methods:[],displayName:"InputOTPSeparator"};const nt={title:"UI/InputOTP",component:oe},K={render:()=>p.jsxs(oe,{maxLength:6,children:[p.jsxs(ae,{children:[p.jsx(D,{index:0}),p.jsx(D,{index:1}),p.jsx(D,{index:2})]}),p.jsx(Oe,{}),p.jsxs(ae,{children:[p.jsx(D,{index:3}),p.jsx(D,{index:4}),p.jsx(D,{index:5})]})]})};var xe,Pe,Se;K.parameters={...K.parameters,docs:{...(xe=K.parameters)==null?void 0:xe.docs,source:{originalSource:`{
  render: () => <InputOTP maxLength={6}>
      <InputOTPGroup>
        <InputOTPSlot index={0} />
        <InputOTPSlot index={1} />
        <InputOTPSlot index={2} />
      </InputOTPGroup>
      <InputOTPSeparator />
      <InputOTPGroup>
        <InputOTPSlot index={3} />
        <InputOTPSlot index={4} />
        <InputOTPSlot index={5} />
      </InputOTPGroup>
    </InputOTP>
}`,...(Se=(Pe=K.parameters)==null?void 0:Pe.docs)==null?void 0:Se.source}}};const rt=["Basic"];export{K as Basic,rt as __namedExportsOrder,nt as default};
